<!DOCTYPE html>
<html>

    <head><title>User Register - SenS</title>
      <script src="https://www.google.com/recaptcha/api.js" async defer></script>

        <link rel="stylesheet" type="text/css" href="/stylesheets/style.css">
        <style>
        .g-recaptcha{
           margin: 15px auto !important;
           width: auto !important;
           height: auto !important;
           text-align: -webkit-center;
           text-align: -moz-center;
           text-align: -o-center;
           text-align: -ms-center;
}

            img {

                width: 20%;
                height: 20%;
                margin-left: 41%;
                margin-top: 2%;
            }
            body{
              background: url(signup.png) no-repeat;
              background-repeat: no-repeat;
              background-position: center center;
              background-attachment: fixed;
              -webkit-background-size: cover;
              -moz-background-size: cover;
              -o-background-size: cover;
              background-size: cover;
            }
            #ss{
                color: #26ae90;
            }

        </style>

        <script>
        var correctCaptcha2 = "";
        var correctCaptcha = function(response) {

        correctCaptcha2 = response;
        alert(correctCaptcha2);
    };

            function transfer()
            {
              window.open("https://sens-agriculture.herokuapp.com/loginForm");
              window.close();
            }

            function validReg() {

                // Name, Email, Phone, Location, Password, PID

                 var fn = document.getElementById("fname").value;
                 var em = document.getElementById("email").value;
                 var ph = document.getElementById("mob").value;
                 var loc = document.getElementById("loc").value;
                     var pid = document.getElementById("pid").value;
                 var pass = document.getElementById("pwd").value;
                 var cpass = document.getElementById("cpwd").value;

                 if ( fn == "" || em == "" || ph == "" || loc == "" || pid == "" || pass == "" || cpass == "" )
                 {
                   alert("One or more fields have been left empty. Please make sure all the fields have been filled ! \n Thank You.");
                   return false;
                 }


                 var n = pass.localeCompare(cpass);


                 if (n == 0)
                 {
                   if(correctCaptcha2 == "")
                   {
                     alert("Please verify yourself as a human using checking the recaptcha element");
                     return false;
                   }
                   else
                   {
                     var xhr = new XMLHttpRequest();
                     xhr.open('GET', "/register?name="+fn+"&uname="+em+"&phone="+ph+"&loc="+loc+"&pwd="+pass+"&pid="+pid, true);
                     xhr.send();
                     alert("Thank you for signing up !\n Redirecting you to the Login Page");
                     window.open("https://sens-agriculture.herokuapp.com/loginForm");
                     window.close();
                   }
                 }
                 else
                {
                alert("Password's don't match, please try again !");
                }



            }


        </script>
    </head>

    <body>
            <img src="sens.png">

        <div id="login">
            <form name='form-login'>
                <span class="fontawesome-user"></span>
                <input type="text" id="fname" placeholder="Full Name" required />
                <span class="fontawesome-lock"></span>
                <input type ="text" id="email" placeholder="Email Address" required />
                <span class="fontawesome-lock"></span>
                <input type="text" id="mob" placeholder="Mobile Number" required />
                <span class="fontawesome-lock"></span>
                <input type="text" id="loc" placeholder="Location" required />
                <span class="fontawesome-lock"></span>
                <input type="text" id="pid" placeholder="Product ID" required />
                <span class="fontawesome-lock"></span> <!-- noob zeeshan -->

                <input type="password" id="pwd" placeholder="Password" required />
                <span class="fontawesome-lock"></span>
                <input type="password" id="cpwd" placeholder="Confirm Password" required /> <br />
                <br /> <p> By clicking on Create Account, you agree to the our Terms and Conditions.</p>

            </form>
            <br />
          </div>

            <div class="g-recaptcha" data-sitekey="6LfIKSsUAAAAAO2qKwRb8MWrAMAOwtLimBWu2-de" data-callback="correctCaptcha"></div>
            <button onClick=validReg()><div id="ss"><strong>CREATE ACCOUNT</strong></div></button>
             <button onClick=transfer()><div id="ss"><strong>LOGIN</strong></div></button>


       <!-- <form>
            <input type="text" placeholder="Email" id="email">
            <input type="text" placeholder="Password" id="password">

        </form>-->

    </body>

</html>
